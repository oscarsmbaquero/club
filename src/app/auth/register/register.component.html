@if(loading){
<app-loading></app-loading>

}@else {
<div class="containerAuth">
  <div
    class="container d-flex flex-column justify-content-center align-items-center imgFondoAuth"
  >
    <h1 class="text-center mb-4 titleAuth col-12">Únete a Alma's w</h1>
    <div class="card p-4" style="max-width: 600px; width: 100%">
      <form
        [formGroup]="registerForm"
        (ngSubmit)="onSubmit()"
        class="mx-0 my-auto"
      >
        <div class="mb-3 input">
          <p-floatLabel>
            <input
            type="text"
            id="name"
            class="form-control"
            formControlName="user"
          />
          <label for="user">Nombre</label>
          </p-floatLabel>        
          @if(registerForm.get('user')?.invalid &&
          registerForm.get('user')?.touched){
          <div class="text-danger text-center">
            @if(registerForm.get('user')?.hasError('required')){
            <small>El nombre es requerido.</small>
            }
          </div>
          }
        </div>
        <div class="mb-3 input">
          <p-floatLabel>
            <input
            type="email"
            id="email"
            class="form-control"
            formControlName="email"
          />
          <label for="email">Email</label>
          </p-floatLabel>          
          @if(registerForm.get('email')?.invalid &&
          registerForm.get('email')?.touched){
          <div class="text-danger text-center">
            @if(registerForm.get('email')?.hasError('required')){
            <small>Email es requerido.</small>
            } @if(registerForm.get('email')?.hasError('email')){
            <small>Email no es válido.</small>
            }
          </div>
          }
        </div>
        <div class="mb-3 input">
          <p-floatLabel>
            <input
            type="password"
            id="password"
            class="form-control"
            formControlName="password"
          />
          <label for="password">Contraseña</label>
          </p-floatLabel>          
          @if(registerForm.get('password')?.invalid &&
          registerForm.get('password')?.touched){
          <div class="text-danger text-center">
            @if(registerForm.get('password')?.hasError('required')){
            <small>Contraseña es requerida.</small>
            } @if(registerForm.get('password')?.hasError('minlength')){
            <small>Mínimo 6 caracteres.</small>
            }
          </div>
          }
        </div>
        <div class="mb-3 input">
          <p-floatLabel>
            <input
            type="password"
            id="confirmPassword"
            class="form-control"
            formControlName="confirmPassword"
          />
          <label for="confirmPassword">Confirmar Contraseña</label>
          </p-floatLabel>          
          @if(registerForm.invalid && registerForm.hasError('mismatch')){
          <div class="text-danger text-center">
            <small>Las contraseñas no coinciden.</small>
          </div>
          }
        </div>
        <button
          type="submit"
          class="btn btn-primary w-100"
          [disabled]="registerForm.invalid"
        >
          Registrarse
        </button>
        <div class="container">
          <a  [routerLink]="['/login']" class="textAuth mt-3"
            >¿Ya tienes cuenta?, <span class="spanAuth">Inicia Sesión</span></a
          >
        </div>
      </form>
    </div>
  </div>
</div>
}
